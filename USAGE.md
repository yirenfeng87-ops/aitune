# 使用指南

## 📝 关于免费模型的已知问题

### 问题现象
使用 OpenRouter 的免费模型（DeepSeek R1 和 Kimi K2）时，可能会遇到以下错误：
- "网络连接中断，请重试（免费模型在高峰期可能不稳定）"
- "模型服务连接超时，请重试"
- 请求等待时间过长（超过 2 分钟）

### 原因分析
1. **免费模型限制**：免费模型使用共享资源，在使用高峰期（如晚上 8-12 点）可能会不稳定
2. **提供商问题**：后端提供商（ModelRun）可能会主动断开长时间运行的请求
3. **网络波动**：国内访问 OpenRouter 可能存在网络延迟

### 解决方案

#### 1. 选择合适的使用时间
- ✅ **推荐时间**：上午 9-12 点，下午 2-5 点（非高峰期）
- ⚠️ **避免时间**：晚上 8-12 点（使用高峰期）

#### 2. 优化输入内容
- **缩短描述长度**：描述控制在 50-200 字之间
- **简化需求**：避免过于复杂的生成要求
- **明确主题**：关键词要精准，描述要清晰

#### 3. 遇到错误时的处理
- **立即重试**：第一次失败后，立即重试通常会成功
- **更换模型**：DeepSeek 失败时尝试 Kimi，反之亦然
- **稍后再试**：连续失败 3 次，建议等待 5-10 分钟后重试

#### 4. 升级方案（可选）
如果需要更稳定的服务，可以考虑：
- 在 OpenRouter 充值使用付费模型
- 修改代码直接调用官方 API（DeepSeek 或 Kimi 官方）

## 🎯 最佳实践

### 成功案例示例

**示例 1：科技博客文章**
- 模型：DeepSeek R1
- 关键词：人工智能
- 描述：介绍 AI 发展历史和未来趋势，适合科技博客，800 字左右
- 语言：中文
- 语气：专业
- 角色：资深文案

**示例 2：产品介绍**
- 模型：Kimi K2
- 关键词：智能手表
- 描述：面向年轻用户的智能手表产品介绍，突出健康监测功能
- 语言：中文
- 语气：轻松
- 角色：营销专家

**示例 3：学术摘要**
- 模型：DeepSeek R1
- 关键词：机器学习
- 描述：机器学习在医疗诊断中的应用研究综述
- 语言：中文
- 语气：正式
- 角色：学术编辑

### 输入建议

✅ **好的描述示例**：
```
介绍人工智能在教育领域的应用现状，包括个性化学习、
智能辅导系统和教学评估三个方面，面向教育工作者，
语言通俗易懂。
```

❌ **不好的描述示例**：
```
写一篇关于人工智能的文章
```
（太简短，信息不足）

## 📊 性能数据参考

根据实际测试数据：
- **平均响应时间**：45-68 秒
- **Token 使用量**：1400-1600 tokens
- **成功率**：
  - 非高峰期：90%+
  - 高峰期：50-70%
- **超时时间**：2 分钟

## 🔧 故障排查

### 问题 1：一直显示"生成中..."
**可能原因**：请求超时或网络问题
**解决方法**：
1. 等待最多 2 分钟
2. 如果没有响应，刷新页面重试
3. 检查浏览器控制台是否有错误信息

### 问题 2：提示"API 密钥无效"
**可能原因**：.env.local 配置错误
**解决方法**：
1. 检查 `.env.local` 文件中的 API Key 是否正确
2. 确保没有多余的空格或引号
3. 重启开发服务器（Ctrl+C 后重新运行 `npm run dev`）

### 问题 3：复制按钮不工作
**可能原因**：浏览器权限问题
**解决方法**：
1. 检查浏览器是否允许剪贴板访问
2. 尝试手动选中文本复制
3. 更换浏览器（推荐 Chrome/Edge）

## 💡 使用技巧

1. **保存常用设置**：应用会自动记住您的模型、语言、语气、角色选择
2. **对比模型效果**：同样的输入，尝试不同模型对比输出质量
3. **迭代优化**：根据第一次生成的结果，调整描述后重新生成
4. **分段生成**：如果需要长文，可以分成多个部分分别生成

## 🚀 未来优化方向

以下功能在当前 MVP 版本中未实现，可在后续版本考虑：
- [ ] 流式输出（实时显示生成过程）
- [ ] 历史记录保存
- [ ] 导出为 PDF/Word
- [ ] 更多模型选择
- [ ] 自动重试机制
- [ ] 生成速度优化

## 📞 技术支持

如遇到问题，可以：
1. 查看浏览器开发者工具的 Console 和 Network 标签
2. 查看服务端日志（终端输出）
3. 参考本文档的故障排查部分

---

**最后更新**：2025-01-21
